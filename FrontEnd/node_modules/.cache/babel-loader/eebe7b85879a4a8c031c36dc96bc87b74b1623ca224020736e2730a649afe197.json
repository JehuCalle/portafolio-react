{"ast":null,"code":"import _toConsumableArray from\"K:/DiscoDx/VsCodeProyectos/portafoliodos/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"K:/DiscoDx/VsCodeProyectos/portafoliodos/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from\"react\";import{v4 as uuidv4}from'uuid';import MensajePrimChat from\"./MensajePrimChat\";import MensajeSeguChat from\"./MensajeSeguChat\";import FormularioPrimerChat from\"./FormularioPrimerChat\";import FormularioSegundoChat from\"./FormularioSegundoChat\";import'../Css/ListaChat.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListaChat(){var referencia=useRef(null);/* PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHATPRIMER CHAT  */var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mountedMSG=_useState2[0],setMountedMSG=_useState2[1];useEffect(function(){if(referencia.current&&mountedMSG===true){setMountedMSG(false);referencia.current.scrollTop=referencia.current.scrollHeight;};},[mountedMSG]);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todosLosMSGs=_useState4[0],settodosLosMSGs=_useState4[1];var agregarPrimerMSG=function agregarPrimerMSG(mensaje){if(mensaje.mensaje.trim()){mensaje.mensaje=mensaje.mensaje.trim();setMountedMSG(true);var primerosMSGsActualizados=[].concat(_toConsumableArray(todosLosMSGs),[mensaje]);settodosLosMSGs(primerosMSGsActualizados);};};var agregarSegundoMSG=function agregarSegundoMSG(mensaje){if(mensaje.mensaje.trim()){mensaje.mensaje=mensaje.mensaje.trim();setMountedMSG(true);var segundosMSGsActualizados=[].concat(_toConsumableArray(todosLosMSGs),[mensaje]);settodosLosMSGs(segundosMSGsActualizados);};};useEffect(function(){if(mountedMSG===true){console.log(todosLosMSGs);setMountedMSG(false);}},[mountedMSG,todosLosMSGs]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Chat\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ContenedorChats\",children:[/*#__PURE__*/_jsx(FormularioPrimerChat,{onSubmit:agregarPrimerMSG}),/*#__PURE__*/_jsx(FormularioSegundoChat,{onSubmit:agregarSegundoMSG})]}),/*#__PURE__*/_jsx(\"div\",{className:\"RegistroChat\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contenedorHistorial\",ref:referencia,children:todosLosMSGs.map(function(mensaje){if(mensaje.tipo===\"primero\"){return/*#__PURE__*/_jsx(MensajePrimChat,{id:mensaje.id,fecha:mensaje.fecha,tipo:mensaje.tipo,mensaje:mensaje.mensaje},uuidv4());}else{return/*#__PURE__*/_jsx(MensajeSeguChat,{id:mensaje.id,fecha:mensaje.fecha,tipo:mensaje.tipo,mensaje:mensaje.mensaje},uuidv4());}})})})]});};export default ListaChat;","map":{"version":3,"names":["React","useRef","useState","useEffect","v4","uuidv4","MensajePrimChat","MensajeSeguChat","FormularioPrimerChat","FormularioSegundoChat","jsx","_jsx","jsxs","_jsxs","ListaChat","referencia","_useState","_useState2","_slicedToArray","mountedMSG","setMountedMSG","current","scrollTop","scrollHeight","_useState3","_useState4","todosLosMSGs","settodosLosMSGs","agregarPrimerMSG","mensaje","trim","primerosMSGsActualizados","concat","_toConsumableArray","agregarSegundoMSG","segundosMSGsActualizados","console","log","className","children","onSubmit","ref","map","tipo","id","fecha"],"sources":["K:/DiscoDx/VsCodeProyectos/portafoliodos/src/Componentes/ListaChat.jsx"],"sourcesContent":["import React, {useRef, useState, useEffect} from \"react\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport MensajePrimChat from \"./MensajePrimChat\";\r\nimport MensajeSeguChat from \"./MensajeSeguChat\";\r\nimport FormularioPrimerChat from \"./FormularioPrimerChat\";\r\nimport FormularioSegundoChat from \"./FormularioSegundoChat\";\r\n\r\nimport '../Css/ListaChat.css';\r\n\r\nfunction ListaChat() {\r\n\r\n  const referencia = useRef(null);\r\n\r\n  /* PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHATPRIMER CHAT  */\r\n\r\n  const [ mountedMSG, setMountedMSG ] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if( referencia.current && mountedMSG === true){\r\n      setMountedMSG(false);\r\n      referencia.current.scrollTop = referencia.current.scrollHeight;\r\n    };\r\n  }, [ mountedMSG ]);\r\n\r\n  const [ todosLosMSGs, settodosLosMSGs ] = useState([]);\r\n\r\n  const agregarPrimerMSG = mensaje => {\r\n    if(mensaje.mensaje.trim()){\r\n      mensaje.mensaje = mensaje.mensaje.trim()\r\n      setMountedMSG(true);\r\n      const primerosMSGsActualizados = [ ...todosLosMSGs, mensaje];\r\n      settodosLosMSGs(primerosMSGsActualizados);\r\n    };\r\n  }; \r\n\r\n\r\n  const agregarSegundoMSG = mensaje => {\r\n    if(mensaje.mensaje.trim()){\r\n      mensaje.mensaje = mensaje.mensaje.trim();\r\n      setMountedMSG(true);\r\n      const segundosMSGsActualizados = [ ...todosLosMSGs, mensaje]\r\n      settodosLosMSGs(segundosMSGsActualizados);\r\n    };\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if(mountedMSG === true){\r\n      console.log(todosLosMSGs);\r\n      setMountedMSG(false);\r\n    }\r\n  }, [ mountedMSG, todosLosMSGs ]);\r\n\r\n  return(\r\n    <div\r\n    className='Chat'>\r\n      <div className=\"ContenedorChats\">\r\n        <FormularioPrimerChat\r\n          onSubmit = {agregarPrimerMSG}/>\r\n        <FormularioSegundoChat\r\n          onSubmit= {agregarSegundoMSG}/>\r\n      </div>\r\n      <div className=\"RegistroChat\">\r\n        <div\r\n          className=\"contenedorHistorial\"\r\n          ref={referencia}>\r\n          {\r\n            todosLosMSGs.map((mensaje) => {\r\n              if(mensaje.tipo === \"primero\"){\r\n                return(\r\n                  <MensajePrimChat\r\n                  key = {uuidv4()}\r\n                  id = {mensaje.id}\r\n                  fecha= {mensaje.fecha}\r\n                  tipo = {mensaje.tipo}\r\n                  mensaje= {mensaje.mensaje}\r\n                />\r\n                );\r\n              }else{\r\n                return(\r\n                  <MensajeSeguChat\r\n                    key = {uuidv4()}\r\n                    id = {mensaje.id}\r\n                    fecha = {mensaje.fecha}\r\n                    tipo = {mensaje.tipo}\r\n                    mensaje = {mensaje.mensaje}\r\n                  />\r\n\r\n                );\r\n              }\r\n            })\r\n          }\r\n\r\n          {\r\n            /*\r\n\r\n              */\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ListaChat;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useRef,useState,useEffect}from\"react\";import{v4 as uuidv4}from'uuid';import MensajePrimChat from\"./MensajePrimChat\";import MensajeSeguChat from\"./MensajeSeguChat\";import FormularioPrimerChat from\"./FormularioPrimerChat\";import FormularioSegundoChat from\"./FormularioSegundoChat\";import'../Css/ListaChat.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListaChat(){const referencia=useRef(null);/* PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHATPRIMER CHAT  */const[mountedMSG,setMountedMSG]=useState([]);useEffect(()=>{if(referencia.current&&mountedMSG===true){setMountedMSG(false);referencia.current.scrollTop=referencia.current.scrollHeight;};},[mountedMSG]);const[todosLosMSGs,settodosLosMSGs]=useState([]);const agregarPrimerMSG=mensaje=>{if(mensaje.mensaje.trim()){mensaje.mensaje=mensaje.mensaje.trim();setMountedMSG(true);const primerosMSGsActualizados=[...todosLosMSGs,mensaje];settodosLosMSGs(primerosMSGsActualizados);};};const agregarSegundoMSG=mensaje=>{if(mensaje.mensaje.trim()){mensaje.mensaje=mensaje.mensaje.trim();setMountedMSG(true);const segundosMSGsActualizados=[...todosLosMSGs,mensaje];settodosLosMSGs(segundosMSGsActualizados);};};useEffect(()=>{if(mountedMSG===true){console.log(todosLosMSGs);setMountedMSG(false);}},[mountedMSG,todosLosMSGs]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Chat\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ContenedorChats col-12 col-md-5 col-lg-4 col-xl-4 col-xxl-3\",children:[/*#__PURE__*/_jsx(FormularioPrimerChat,{onSubmit:agregarPrimerMSG}),/*#__PURE__*/_jsx(FormularioSegundoChat,{onSubmit:agregarSegundoMSG})]}),/*#__PURE__*/_jsx(\"div\",{className:\"RegistroChat col-12 col-md-5 col-lg-4 col-xl-3 col-xxl-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contenedorHistorial\",ref:referencia,children:todosLosMSGs.map(mensaje=>{if(mensaje.tipo===\"primero\"){return/*#__PURE__*/_jsx(MensajePrimChat,{id:mensaje.id,fecha:mensaje.fecha,tipo:mensaje.tipo,mensaje:mensaje.mensaje},uuidv4());}else{return/*#__PURE__*/_jsx(MensajeSeguChat,{id:mensaje.id,fecha:mensaje.fecha,tipo:mensaje.tipo,mensaje:mensaje.mensaje},uuidv4());}})})})]});};export default ListaChat;","map":{"version":3,"names":["React","useRef","useState","useEffect","v4","uuidv4","MensajePrimChat","MensajeSeguChat","FormularioPrimerChat","FormularioSegundoChat","jsx","_jsx","jsxs","_jsxs","ListaChat","referencia","mountedMSG","setMountedMSG","current","scrollTop","scrollHeight","todosLosMSGs","settodosLosMSGs","agregarPrimerMSG","mensaje","trim","primerosMSGsActualizados","agregarSegundoMSG","segundosMSGsActualizados","console","log","className","children","onSubmit","ref","map","tipo","id","fecha"],"sources":["D:/DiscoDx/VsCodeProyectos/portafolio-react/src/Componentes/ListaChat.jsx"],"sourcesContent":["import React, {useRef, useState, useEffect} from \"react\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport MensajePrimChat from \"./MensajePrimChat\";\r\nimport MensajeSeguChat from \"./MensajeSeguChat\";\r\nimport FormularioPrimerChat from \"./FormularioPrimerChat\";\r\nimport FormularioSegundoChat from \"./FormularioSegundoChat\";\r\n\r\nimport '../Css/ListaChat.css';\r\n\r\nfunction ListaChat() {\r\n\r\n  const referencia = useRef(null);\r\n\r\n  /* PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHAT PRIMER CHATPRIMER CHAT  */\r\n\r\n  const [ mountedMSG, setMountedMSG ] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if( referencia.current && mountedMSG === true){\r\n      setMountedMSG(false);\r\n      referencia.current.scrollTop = referencia.current.scrollHeight;\r\n    };\r\n  }, [ mountedMSG ]);\r\n\r\n  const [ todosLosMSGs, settodosLosMSGs ] = useState([]);\r\n\r\n  const agregarPrimerMSG = mensaje => {\r\n    if(mensaje.mensaje.trim()){\r\n      mensaje.mensaje = mensaje.mensaje.trim()\r\n      setMountedMSG(true);\r\n      const primerosMSGsActualizados = [ ...todosLosMSGs, mensaje];\r\n      settodosLosMSGs(primerosMSGsActualizados);\r\n    };\r\n  }; \r\n\r\n\r\n  const agregarSegundoMSG = mensaje => {\r\n    if(mensaje.mensaje.trim()){\r\n      mensaje.mensaje = mensaje.mensaje.trim();\r\n      setMountedMSG(true);\r\n      const segundosMSGsActualizados = [ ...todosLosMSGs, mensaje]\r\n      settodosLosMSGs(segundosMSGsActualizados);\r\n    };\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if(mountedMSG === true){\r\n      console.log(todosLosMSGs);\r\n      setMountedMSG(false);\r\n    }\r\n  }, [ mountedMSG, todosLosMSGs ]);\r\n\r\n  return(\r\n    <div className='Chat'>\r\n      <div className=\"ContenedorChats col-12 col-md-5 col-lg-4 col-xl-4 col-xxl-3\">\r\n        <FormularioPrimerChat\r\n          onSubmit = {agregarPrimerMSG}/>\r\n        <FormularioSegundoChat\r\n          onSubmit= {agregarSegundoMSG}/>\r\n      </div>\r\n      <div className=\"RegistroChat col-12 col-md-5 col-lg-4 col-xl-3 col-xxl-3\">\r\n        <div\r\n          className=\"contenedorHistorial\"\r\n          ref={referencia}>\r\n          {\r\n            todosLosMSGs.map((mensaje) => {\r\n              if(mensaje.tipo === \"primero\"){\r\n                return(\r\n                  <MensajePrimChat\r\n                  key = {uuidv4()}\r\n                  id = {mensaje.id}\r\n                  fecha= {mensaje.fecha}\r\n                  tipo = {mensaje.tipo}\r\n                  mensaje= {mensaje.mensaje}\r\n                />\r\n                );\r\n              }else{\r\n                return(\r\n                  <MensajeSeguChat\r\n                    key = {uuidv4()}\r\n                    id = {mensaje.id}\r\n                    fecha = {mensaje.fecha}\r\n                    tipo = {mensaje.tipo}\r\n                    mensaje = {mensaje.mensaje}\r\n                  />\r\n\r\n                );\r\n              }\r\n            })\r\n          }\r\n\r\n          {\r\n            /*\r\n\r\n              */\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ListaChat;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CACxD,OAASC,EAAE,GAAI,CAAAC,MAAM,KAAQ,MAAM,CAEnC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,oBAAoB,KAAM,wBAAwB,CACzD,MAAO,CAAAC,qBAAqB,KAAM,yBAAyB,CAE3D,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,SAASA,CAAA,CAAG,CAEnB,KAAM,CAAAC,UAAU,CAAGd,MAAM,CAAC,IAAI,CAAC,CAE/B,yIAEA,KAAM,CAAEe,UAAU,CAAEC,aAAa,CAAE,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACd,GAAIY,UAAU,CAACG,OAAO,EAAIF,UAAU,GAAK,IAAI,CAAC,CAC5CC,aAAa,CAAC,KAAK,CAAC,CACpBF,UAAU,CAACG,OAAO,CAACC,SAAS,CAAGJ,UAAU,CAACG,OAAO,CAACE,YAAY,CAChE,CAAC,CACH,CAAC,CAAE,CAAEJ,UAAU,CAAE,CAAC,CAElB,KAAM,CAAEK,YAAY,CAAEC,eAAe,CAAE,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAEtD,KAAM,CAAAqB,gBAAgB,CAAGC,OAAO,EAAI,CAClC,GAAGA,OAAO,CAACA,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,CACxBD,OAAO,CAACA,OAAO,CAAGA,OAAO,CAACA,OAAO,CAACC,IAAI,CAAC,CAAC,CACxCR,aAAa,CAAC,IAAI,CAAC,CACnB,KAAM,CAAAS,wBAAwB,CAAG,CAAE,GAAGL,YAAY,CAAEG,OAAO,CAAC,CAC5DF,eAAe,CAACI,wBAAwB,CAAC,CAC3C,CAAC,CACH,CAAC,CAGD,KAAM,CAAAC,iBAAiB,CAAGH,OAAO,EAAI,CACnC,GAAGA,OAAO,CAACA,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,CACxBD,OAAO,CAACA,OAAO,CAAGA,OAAO,CAACA,OAAO,CAACC,IAAI,CAAC,CAAC,CACxCR,aAAa,CAAC,IAAI,CAAC,CACnB,KAAM,CAAAW,wBAAwB,CAAG,CAAE,GAAGP,YAAY,CAAEG,OAAO,CAAC,CAC5DF,eAAe,CAACM,wBAAwB,CAAC,CAC3C,CAAC,CACH,CAAC,CAGDzB,SAAS,CAAC,IAAM,CACd,GAAGa,UAAU,GAAK,IAAI,CAAC,CACrBa,OAAO,CAACC,GAAG,CAACT,YAAY,CAAC,CACzBJ,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAAE,CAAED,UAAU,CAAEK,YAAY,CAAE,CAAC,CAEhC,mBACER,KAAA,QAAKkB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBnB,KAAA,QAAKkB,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAC1ErB,IAAA,CAACH,oBAAoB,EACnByB,QAAQ,CAAIV,gBAAiB,CAAC,CAAC,cACjCZ,IAAA,CAACF,qBAAqB,EACpBwB,QAAQ,CAAGN,iBAAkB,CAAC,CAAC,EAC9B,CAAC,cACNhB,IAAA,QAAKoB,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvErB,IAAA,QACEoB,SAAS,CAAC,qBAAqB,CAC/BG,GAAG,CAAEnB,UAAW,CAAAiB,QAAA,CAEdX,YAAY,CAACc,GAAG,CAAEX,OAAO,EAAK,CAC5B,GAAGA,OAAO,CAACY,IAAI,GAAK,SAAS,CAAC,CAC5B,mBACEzB,IAAA,CAACL,eAAe,EAEhB+B,EAAE,CAAIb,OAAO,CAACa,EAAG,CACjBC,KAAK,CAAGd,OAAO,CAACc,KAAM,CACtBF,IAAI,CAAIZ,OAAO,CAACY,IAAK,CACrBZ,OAAO,CAAGA,OAAO,CAACA,OAAQ,EAJnBnB,MAAM,CAAC,CAKf,CAAC,CAEJ,CAAC,IAAI,CACH,mBACEM,IAAA,CAACJ,eAAe,EAEd8B,EAAE,CAAIb,OAAO,CAACa,EAAG,CACjBC,KAAK,CAAId,OAAO,CAACc,KAAM,CACvBF,IAAI,CAAIZ,OAAO,CAACY,IAAK,CACrBZ,OAAO,CAAIA,OAAO,CAACA,OAAQ,EAJpBnB,MAAM,CAAC,CAKf,CAAC,CAGN,CACF,CAAC,CAAC,CAQD,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAS,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}